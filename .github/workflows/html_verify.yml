---
name: HtmlVerify

on: pull_request

jobs:
  html-verify:
    runs-on: ubuntu-latest
    name: Html verify
    steps:
      - name: Source checkout
        uses: actions/checkout@v2
        with:
          fetch-depth: 1

      - name: Html proofer
        uses: chabad360/htmlproofer@v1.1
        with:
          directory: "./"
          arguments: |
            --empty-alt-ignore --check-favicon --check-img-http --enforce-https --only-4xx

      - name: Get vale file list
        id: getValeList
        run: echo "::set-output name=forVale::$(cat .valelist)"

      - name: Vale spelling and grammar checks
        uses: errata-ai/vale-action@v1.0.4
        env:
          GITHUB_TOKEN: ${{secrets.GITHUB_TOKEN}}
